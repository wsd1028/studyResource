<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="./css/element.css">
    <link rel="stylesheet" href="./css/iconfont/iconfont.css">
    <link rel="stylesheet" href="./css/index.min.css">
    <title>重庆大屏2</title>
</head>

<body>
    <div class="monitoring" id="main">
        <section>
            <div class="section-left">
                <div class="top">
                    <div class="safe">
                        <p class="title">
                            安全场景
                            <span>概览</span>
                        </p>
                        <div class="incident">
                            <div class="incidentShow">
                                <div class="incidentItem">
                                    <div class="count skygreen0">567</div>
                                    <div class="text skygreen">事件</div>
                                </div>
                                <div class="incidentItem">
                                    <div class="count red0">31</div>
                                    <div class="text red">告警</div>
                                </div>
                            </div>
                            <div class="incidentShow">
                                <div class="incidentItem">
                                    <div class="count skyblue0">52</div>
                                    <div class="text skyblue">已派单</div>
                                </div>
                                <div class="incidentItem">
                                    <div class="count blue0">70</div>
                                    <div class="text blue">已封堵</div>
                                </div>
                            </div>
                        </div>
                        <div class="invade">
                            <div class="invadeShow">
                                <div class="invadeItem">
                                    <div class="count blue0">1200</div>
                                    <div class="text blue">入侵检测</div>
                                </div>
                                <div class="invadeItem" style="margin:0">
                                    <div class="count yellow0">50</div>
                                    <div class="text yellow">防病毒</div>
                                </div>
                            </div>
                            <div class="invadeShow" style="padding-left:60px;margin-top:30px">
                                <div class="invadeItem">
                                    <div class="count skyblue0">1047</div>
                                    <div class="text skyblue">异常流量</div>
                                </div>
                                <div class="invadeItem" style="margin:0">
                                    <div class="count skygreen0">42</div>
                                    <div class="text skygreen">漏洞</div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="business">
                        <p class="title">
                            业务场景
                            <span>概览</span>
                        </p>
                        <div class="invade">
                            <div class="invadeShow">
                                <div class="invadeItem">
                                    <div class="count blue0">0</div>
                                    <div class="text blue">网管网</div>
                                </div>
                                <div class="invadeItem" style="margin:0">
                                    <div class="count yellow0">0</div>
                                    <div class="text yellow">重保场景</div>
                                </div>
                            </div>
                            <div class="invadeShow" style="padding-left:60px;margin-top:30px">
                                <div class="invadeItem">
                                    <div class="count skyblue0">1</div>
                                    <div class="text skyblue">重点业务</div>
                                </div>
                                <div class="invadeItem" style="margin:0">
                                    <div class="count skygreen0">0</div>
                                    <div class="text skygreen">重要系统</div>
                                </div>
                            </div>
                        </div>
                        <div class="incident" style="margin-top:30px">
                            <div class="incidentShow">
                                <div class="incidentItem">
                                    <div class="count skygreen0">1700</div>
                                    <div class="text skygreen">事件</div>
                                </div>
                                <div class="incidentItem">
                                    <div class="count red0">0</div>
                                    <div class="text red">告警</div>
                                </div>
                            </div>
                            <div class="incidentShow">
                                <div class="incidentItem">
                                    <div class="count skyblue0">12</div>
                                    <div class="text skyblue">已派单</div>
                                </div>
                                <div class="incidentItem">
                                    <div class="count blue0">23</div>
                                    <div class="text blue">已封堵</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="bottom">
                    <p class="title">核心设备性能</p>
                    <div class="equipment">
                        <div class="equipment-item">
                            <div class="text">
                                <p>链路利用率</p>
                                <span>
                                    <i class="cqfont cq-lianjieliu C-green"></i> &lt;50%
                                </span>
                            </div>
                            <div id="equipment0" class="equItem"></div>
                        </div>
                        <div class="equipment-item">
                            <div class="text">
                                <p>CPU利用率</p>
                                <span>
                                    <i class="cqfont cq-cpu C-red"></i> &lt;30%
                                </span>
                            </div>
                            <div id="equipment1" class="equItem"></div>
                        </div>
                        <div class="equipment-item">
                            <div class="text">
                                <p>能源效率</p>
                                <span>
                                    <i class="cqfont cq-lingdang C-green"></i> &lt;1.43
                                </span>
                            </div>
                            <div id="equipment2" class="equItem"></div>
                        </div>

                    </div>
                </div>
            </div>
            <div class="section-right">
                <div class="top">
                    <p class="title">智能监控</p>
                    <div class="header">
                        <div class="people">
                            <div style="display:flex">
                                <div class="invadeItem" style="margin-right:20px;margin-left:60px">
                                    <div class="count skyblue0">50</div>
                                    <div class="text skyblue">出入次数</div>
                                </div>
                                <div class="invadeItem" style="margin-right:0px">
                                    <div class="count blue0">300</div>
                                    <div class="text blue">出入人员</div>
                                </div>
                            </div>
                            <p class="p-text">人员轨迹</p>
                        </div>
                        <div class="waring">
                            <div class="waring-top">
                                <div class="left">
                                    <div class="incidentItem" style="margin-bottom:0px">
                                        <div class="count red0">23</div>
                                        <div class="text red">已封堵</div>
                                    </div>
                                    <div class="incidentItem" style="margin-bottom:0px">
                                        <div class="count skyblue0">23</div>
                                        <div class="text skyblue">已封堵</div>
                                    </div>
                                </div>
                                <div class="invadeItem" style="margin-right:0px;flex-shrink:0">
                                    <div class="count yellow0">0</div>
                                    <div class="text yellow">门禁关闭告警</div>
                                </div>
                            </div>
                            <p class="p-text">智能警告</p>
                        </div>
                        <div class="machine">
                            <div class="machine-charts">
                                <div id="temperature"></div>
                                <div id="humidity"></div>
                            </div>
                            <p style="text-align:center;color:#fff;margin-top:-20px;font-size:14px">机房平均温湿度</p>
                        </div>
                    </div>
                    <div class="footer">
                        <div class="pdu">
                            <p class="title">智能PDU(电度计量)</p>
                            <span class="icon-span">
                                <i class="cqfont cq-lingdang"></i>
                                76
                            </span>
                            <div class="pdu-chart" id="pdu"></div>
                        </div>
                        <div class="pdu">
                            <p class="title">智能机柜门禁(门禁开门次数)</p>
                            <span class="icon-span">
                                <i class="cqfont cq-lingdang"></i>
                                95
                            </span>
                            <div class="pdu-chart" id="entrance"></div>
                        </div>
                    </div>
                </div>
                <div class="bottom">
                    <div class="left">
                        <div class="cusmtoer">
                            <div class="header" style="margin-bottom:16px">
                                <div class="image lin-orange">
                                    <i class="cqfont cq-IP"></i>
                                </div>
                                <div class="text">
                                    <p>金融客户</p>
                                    <p style="text-align:right;margin-top:13px">10家</p>
                                </div>
                            </div>
                            <el-carousel :interval="4000" type="card" height="104px">
                                <el-carousel-item>
                                    <img src="./images/money0.jpg" alt style="width:100%" />
                                </el-carousel-item>
                                <el-carousel-item>
                                    <img src="./images/money1.jpg" alt style="width:100%" />
                                </el-carousel-item>
                                <el-carousel-item>
                                    <img src="./images/money2.jpg" alt style="width:100%" />
                                </el-carousel-item>
                            </el-carousel>
                        </div>
                        <div class="cusmtoer">
                            <div class="header" style="margin-bottom:16px">
                                <div class="image lin-blue">
                                    <i class="cqfont cq-dianxin-jijia"></i>
                                </div>
                                <div class="text">
                                    <p>互联网客户</p>
                                    <p style="text-align:right;margin-top:13px">30家</p>
                                </div>
                            </div>
                            <el-carousel :interval="4000" type="card" height="104px">
                                <el-carousel-item>
                                    <img src="./images/money0.jpg" alt style="width:100%" />
                                </el-carousel-item>
                                <el-carousel-item>
                                    <img src="./images/money1.jpg" alt style="width:100%" />
                                </el-carousel-item>
                                <el-carousel-item>
                                    <img src="./images/money2.jpg" alt style="width:100%" />
                                </el-carousel-item>
                            </el-carousel>
                        </div>
                    </div>
                    <div class="right">
                        <div class="cusmtoer">
                            <div class="header" style="margin-bottom:16px">
                                <div class="image lin-violet">
                                    <i class="cqfont cq-loufang"></i>
                                </div>
                                <div class="text">
                                    <p>政府客户</p>
                                    <p style="text-align:right;margin-top:13px">20家</p>
                                </div>
                            </div>
                            <el-carousel :interval="4000" type="card" height="104px">
                                <el-carousel-item>
                                    <img src="./images/money0.jpg" alt style="width:100%" />
                                </el-carousel-item>
                                <el-carousel-item>
                                    <img src="./images/money1.jpg" alt style="width:100%" />
                                </el-carousel-item>
                                <el-carousel-item>
                                    <img src="./images/money2.jpg" alt style="width:100%" />
                                </el-carousel-item>
                            </el-carousel>
                        </div>
                        <div class="cusmtoer">
                            <div class="header">
                                <div class="image lin-red">
                                    <i class="cqfont cq-suoyoukehu"></i>
                                </div>
                                <div class="text">
                                    <p>企业客户</p>
                                    <p style="text-align:right;margin-top:13px">25家</p>
                                </div>
                            </div>
                            <el-carousel :interval="4000" type="card" height="104px">
                                <el-carousel-item>
                                    <img src="./images/money0.jpg" alt style="width:100%" />
                                </el-carousel-item>
                                <el-carousel-item>
                                    <img src="./images/money1.jpg" alt style="width:100%" />
                                </el-carousel-item>
                                <el-carousel-item>
                                    <img src="./images/money2.jpg" alt style="width:100%" />
                                </el-carousel-item>
                            </el-carousel>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </div>
    <script src="./js/es6-shim.min.js"></script>
    <script src="./js/vue.js"></script>
    <script src="./js/element.js"></script>
    <script src="./js/echarts/dist/echarts.min.js"></script>

    <script>
        var v = new Vue({
            el: "#main",
            methods: {
                //核心设备
                equipmentCharts: function (
                    id,
                    min,
                    max,
                    title,
                    color,
                    content
                ) {
                    var myChart = echarts.init(document.getElementById(id));
                    let data = [{
                        use: 50,
                        all: 100,
                        name: "湘潭",
                        Id: 5
                    }];
                    let use = data[0].use;
                    let all = data[0].all;
                    let name = data[0].name;
                    let number = "";
                    if (content) {
                        number = content;
                    } else {
                        number = (use / all) * 100 + "%";
                    }
                    let option = {
                        title: {
                            text: title,
                            left: "center",
                            top: "8%",
                            textStyle: {
                                color: "#fff",
                                fontSize: "16"
                            }
                        },
                        series: {
                            name: "",
                            title: {
                                textStyle: {
                                    color: "#fff"
                                },
                                fontSize: 24,
                                offsetCenter: [0, "10%"]
                            },
                            type: "gauge",
                            splitNumber: 1, //刻度数量
                            min: min,
                            max: max,
                            padding: 0,
                            center: ["50%", "50%"],
                            radius: "80%",
                            detail: {
                                offsetCenter: [0, "-25%"],
                                formatter: function (value) {
                                    if (content) {
                                        return "平均值";
                                    } else {
                                        return "使用占比";
                                    }
                                },
                                textStyle: {
                                    fontSize: 14,
                                    color: "white"
                                }
                            },
                            axisLine: {
                                show: false,
                                lineStyle: {
                                    // 属性lineStyle控制线条样式
                                    color: [
                                        [use / all, color],
                                        [1, "rgba(255,255,255,0.3)"]
                                    ],
                                    width: 12
                                }
                            },
                            axisTick: {
                                show: false,
                                lineStyle: {
                                    color: "#ddd",
                                    width: 1
                                },
                                length: -2,
                                splitNumber: 3
                            },
                            pointer: {
                                show: false
                            },
                            splitLine: {
                                show: false,
                                length: 12,
                                lineStyle: {
                                    color: "red"
                                }
                            },
                            axisLabel: {
                                distance: -20,
                                textStyle: {
                                    color: "#fff",
                                    fontSize: "14"
                                }
                            },
                            data: [{
                                value: (use / all) * 100,
                                name: ""
                            }],
                        }
                    };
                    myChart.setOption(option, true);
                },
                //平均温度
                temperatureCharts: function (id) {
                    var myChart = echarts.init(document.getElementById(id));
                    var data = [40];
                    let number = data[0];
                    let option = {
                        title: {
                            text: "温度计",
                            show: false
                        },
                        grid: {
                            top: "-15%",
                            left: "10%",
                            containLabel: true
                        },
                        yAxis: [{
                                show: false,
                                min: 0,
                                max: 50
                            },
                            {
                                show: false,
                                data: [],
                                min: 0,
                                max: 50
                            }
                        ],
                        xAxis: [{
                                show: false,
                                data: []
                            },
                            {
                                show: false,
                                data: []
                            },
                            {
                                show: false,
                                data: []
                            },
                            {
                                show: false,
                                min: -50,
                                max: 50
                            }
                        ],
                        series: [{
                                name: "条",
                                type: "bar",
                                // 对应上面XAxis的第一个对象配置
                                xAxisIndex: 0,
                                data: [number],
                                barWidth: 15,
                                itemStyle: {
                                    normal: {
                                        color: "rgba(29, 140, 248, 0.8)",
                                        barBorderRadius: 15
                                    }
                                },
                                label: {
                                    normal: {
                                        show: true,
                                        position: "right",
                                        right: "50%",
                                        formatter: function (param) {
                                            return "{a|温度计}" + "\n\n" + "{b|" + param
                                                .value +
                                                "°C}";
                                        },
                                        rich: {
                                            a: {
                                                color: "#fff",
                                                fontWeight: "normal"
                                            },
                                            b: {
                                                color: "#fff",
                                                fontSize: "20",
                                                fontWeight: "bold"
                                            }
                                        }
                                    }
                                },
                                z: 20
                            },
                            {
                                name: "白框",
                                type: "bar",
                                xAxisIndex: 1,
                                barGap: "-100%",
                                data: [50],
                                barWidth: 15,
                                itemStyle: {
                                    normal: {
                                        color: "rgba(29, 140, 248, 0.5)",
                                        barBorderRadius: 15
                                    }
                                },
                                z: 10
                            },
                            {
                                name: "圆",
                                type: "scatter",
                                hoverAnimation: false,
                                data: [0],
                                xAxisIndex: 0,
                                symbolSize: 30,
                                itemStyle: {
                                    normal: {
                                        color: "rgb(29, 140, 248)",
                                        opacity: 1
                                    }
                                },
                                z: 20
                            }
                        ]
                    };
                    myChart.setOption(option, true);
                },
                //平均湿度
                humidityCharts: function (id) {
                    var myChart = echarts.init(document.getElementById(id));
                    var dataStyle = {
                        normal: {
                            label: {
                                show: false
                            },
                            labelLine: {
                                show: false
                            },
                            shadowBlur: 0,
                            shadowColor: "#203665"
                        }
                    };
                    let option = {
                        series: [{
                            name: "第三个圆环",
                            type: "pie",
                            clockWise: true,
                            radius: [40, 30],
                            itemStyle: dataStyle,
                            hoverAnimation: false,
                            center: ["50%", "35%"],
                            selectedMode: true,
                            data: [{
                                    value: 75,
                                    label: {
                                        normal: {
                                            rich: {
                                                a: {
                                                    color: "#fff",
                                                    align: "center",
                                                    fontSize: 20,
                                                    fontWeight: "bold"
                                                },
                                                b: {
                                                    color: "#fff",
                                                    align: "center",
                                                    fontSize: 14
                                                }
                                            },
                                            formatter: function (params) {
                                                return "{b|湿度}\n\n" + "{a|" +
                                                    params
                                                    .value + "%}";
                                            },
                                            position: "center",
                                            show: true,
                                            textStyle: {
                                                fontSize: "14",
                                                fontWeight: "normal",
                                                color: "#fff"
                                            }
                                        }
                                    },
                                    itemStyle: {
                                        normal: {
                                            color: "rgba(17,168,171,0.8)",
                                            shadowColor: "#613fd1",
                                            shadowBlur: 0
                                        }
                                    }
                                },
                                {
                                    value: 25,
                                    name: "invisible",
                                    itemStyle: {
                                        normal: {
                                            color: "rgba(255,255,255,0.3)"
                                        }
                                    }
                                }
                            ]
                        }]
                    };
                    myChart.setOption(option, true);
                },
                //智能
                noopschecharts: function (id, lineColor, topColor, bottomColor) {
                    var myChart = echarts.init(document.getElementById(id));
                    let option = {
                        tooltip: {},
                        grid: {
                            top: "8%",
                            left: "1%",
                            bottom: "8%",
                            containLabel: true
                        },
                        xAxis: [{
                            type: "category",
                            boundaryGap: false,
                            data: ["14", "15", "16", "17", "18", "19"],
                            axisLabel: {
                                margin: 10,
                                color: "#fff",
                                fontSize: 14
                            },
                            axisLine: {
                                show: false
                            },
                            axisTick: {
                                show: true,
                                length: 0,
                                lineStyle: {
                                    color: "#ffffff1f"
                                }
                            },
                            splitLine: {
                                show: true,
                                lineStyle: {
                                    color: "#ffffff1f"
                                }
                            }
                        }],
                        yAxis: [{
                            type: "value",
                            splitNumber: 7,
                            splitLine: {
                                show: false,
                                lineStyle: {
                                    color: "red"
                                }
                            },
                            axisLine: {
                                show: false
                            },
                            axisLabel: {
                                margin: 20,
                                textStyle: {
                                    color: "#fff",
                                    fontSize: 14
                                }
                            },
                            axisTick: {
                                show: false
                            }
                        }],
                        series: [{
                            name: "异常流量",
                            type: "line",
                            smooth: true, //是否平滑曲线显示
                            symbol: "circle", // 默认是空心圆（中间是白色的），改成实心圆
                            symbolSize: 6,
                            itemStyle: {
                                normal: {
                                    color: lineColor,
                                    label: {
                                        show: false,
                                        position: "top",
                                        textStyle: {
                                            fontSize: "8"
                                        }
                                    }
                                }
                            },
                            lineStyle: {
                                normal: {
                                    color: lineColor // 线条颜色
                                }
                            },
                            areaStyle: {
                                //区域填充样式
                                normal: {
                                    //线性渐变，前4个参数分别是x0,y0,x2,y2(范围0~1);相当于图形包围盒中的百分比。如果最后一个参数是‘true’，则该四个值是绝对像素位置。
                                    color: new echarts.graphic.LinearGradient(
                                        0,
                                        0,
                                        0,
                                        1,
                                        [{
                                                offset: 0,
                                                color: topColor
                                            },
                                            {
                                                offset: 1,
                                                color: bottomColor
                                            }
                                        ],
                                        false
                                    )
                                }
                            },
                            data: [90, 105, 84, 15, 110, 92]
                        }]
                    };
                    myChart.setOption(option, true);
                }
            },

            mounted: function () {
                this.equipmentCharts(
                    "equipment0",
                    0,
                    100,
                    "链路",
                    "rgba(0, 242, 195, 0.8)",
                    ""
                );
                this.equipmentCharts(
                    "equipment1",
                    0,
                    100,
                    "CPU",
                    "rgba(230, 76, 101, 0.8)",
                    ""
                );
                this.equipmentCharts(
                    "equipment2",
                    0,
                    100,
                    "PUE",
                    "rgba(0, 242, 195, 0.8)",
                    "1.43"
                );

                this.temperatureCharts("temperature");
                this.humidityCharts("humidity");
                this.noopschecharts("pdu", "#12A87F", "rgba(18,168,127,0.5)", "rgba(18,168,127,0)");
                this.noopschecharts("entrance", "#FD5D93", "rgba(253,93,147,0.5)",
                    "rgba(253,93,147,0)");
                    window.addEventListener("resize", function() {
            that.myChart1.resize();
            that.myChart2.resize();
            that.myChart3.resize();
            that.myChart4.resize();
          });
            }
        })
    </script>
</body>

</html>